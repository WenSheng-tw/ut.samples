<?prg
#include "lib/tweb/tweb.ch" 
#define IS_DESSIGN 	.T.

    LOCAL o, oWeb 	
	
	DEFINE WEB oWeb TITLE 'MsgApi'
	
		HTML oWeb FILE 'tpl\header_examples.tpl' PARAMS 'Messages', 'MsgApi'
	
		DEFINE FORM o ID 'myform' API 'api_msg' OF oWeb		
			o:lDessign 	:= IS_DESSIGN						
			
			INIT FORM o
			
				ROWGROUP o                        
					GET ID 'mytext' VALUE 'James Brown...'   GRID 6 LABEL 'String' OF o             
				ENDROW o
				
				ROWGROUP o                        
					GET ID 'mynumber' VALUE '1234.56'   GRID 6 LABEL 'Number'  OF o             
				ENDROW o    

				ROWGROUP o                                                
					SWITCH ID 'mylogic' LABEL 'OnOff'  GRID 6 OF o						
				ENDROW o  					
				
				ROWGROUP o
					BUTTON ID 'btn'  LABEL 'Send All' GRID 0 ACTION 'TestAll()' OF o    
				ENDROW o 	

			
				HTML o
					<script>
						
						function TestAll() {

							var oPar = new Object()
								oPar[ 'myname' ] = 'Jean-Paul'
							
							MsgApi( 'api_msg', 'ping', oPar )
						}
							
					</script>
				ENDTEXT		
			
		ENDFORM o	
	
	INIT WEB oWeb RETURN 

?>